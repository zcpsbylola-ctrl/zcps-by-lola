<!DOCTYPE html> <html lang="fr"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Luxe Agenda Ultime</title> <style> body { font-family: 'Inter', sans-serif; margin:0; padding:10px; background: linear-gradient(180deg,#f2f5fa,#dfe7f2); color:#1a1a1a; } h2{text-align:center;margin-bottom:15px;color:#2c2c54;text-shadow:0 1px 2px rgba(0,0,0,0.2);} .days-container{display:flex;overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling: touch;padding-bottom:10px;min-height:600px;} .day-column{display:flex;flex-direction:column;min-width:70px;margin-right:6px;scroll-snap-align:start;} .slot{height:22px;margin:1px 0;border-radius:4px;background-color:#c3e0ff;transition:0.2s ease;flex-shrink:0;position:relative;} .slot.selected{background: linear-gradient(90deg,#ffd700,#ffb700);border-radius:6px;box-shadow:0 0 6px rgba(255,215,0,0.6);} .slot.blocked{background-color: rgba(44,44,54,0.3);pointer-events:none;} .slot-label{position:absolute;left:6px;top:0;font-size:10px;color:#2c2c54;opacity:0;transition:0.15s ease;} .slot.show-label .slot-label{opacity:1;} button{margin-top:12px;padding:14px 28px;border:none;border-radius:24px;background: linear-gradient(135deg,#ffd700,#ffb700);color:#000;font-weight:700;font-size:17px;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,0.3);transition: transform 0.1s;} button:active{transform: scale(0.97);} button:disabled{background-color:#cccccc;color:#fff;cursor:not-allowed;} </style> </head> <body> <h2>Ze agenda de réZervation by Lola</h2> <div class="days-container" id="agenda"></div> <button id="validateBtn" disabled>Valider</button> <script> const MINUTES_IN_DAY=24*60; let selected=null; let zoomLevel=1; const agendaEl=document.getElementById('agenda'); const timeline=[]; let startDayOffset=0; function addDay(dayOffset){ const dayColumn=document.createElement('div'); dayColumn.className='day-column'; const daySlots=[]; for(let m=0;m<MINUTES_IN_DAY;m++){ const slot=document.createElement('div'); slot.className='slot'; slot.dataset.day=dayOffset; slot.dataset.minute=m; const label=document.createElement('span'); label.className='slot-label'; if(m%15===0) label.textContent=`${String(Math.floor(m/60)).padStart(2,'0')}:${String(m%60).padStart(2,'0')}`; slot.appendChild(label); slot.addEventListener('click',()=>selectSlot(dayOffset,m)); dayColumn.appendChild(slot); daySlots.push({el:slot,blocked:false}); } timeline.push(daySlots); agendaEl.appendChild(dayColumn); } for(let i=0;i<3;i++) addDay(i); agendaEl.addEventListener('scroll',()=>{ const scrollRight=agendaEl.scrollLeft+agendaEl.clientWidth; if(scrollRight>=agendaEl.scrollWidth-100){ startDayOffset++; addDay(startDayOffset+2); }}); let initialDistance=null; agendaEl.addEventListener('touchmove',(e)=>{ if(e.touches.length===2){ const dist=Math.hypot(e.touches[0].pageX-e.touches[1].pageX,e.touches[0].pageY-e.touches[1].pageY); if(initialDistance===null) initialDistance=dist; const scale=dist/initialDistance; if(scale>1.2){ zoomLevel=2; showLabels(true);} if(scale<0.8){ zoomLevel=1; showLabels(false);} }}); agendaEl.addEventListener('touchend',()=>{initialDistance=null;}); function showLabels(show){ timeline.forEach(day=>{ day.forEach(slot=>{ if(show) slot.el.classList.add('show-label'); else slot.el.classList.remove('show-label'); }); });} function selectSlot(day,minute){ if(timeline[day][minute].blocked) return; if(selected){ const {day:d,minute:m}=selected; timeline[d][m].el.classList.remove('selected'); } timeline[day][minute].el.classList.add('selected'); selected={day,minute}; document.getElementById('validateBtn').disabled=false; let total=75,d=day,m=minute; while(total>0 && d<timeline.length){ const remainingToday=MINUTES_IN_DAY-m; const count=Math.min(total,remainingToday); for(let i=0;i<count;i++){ timeline[d][m+i].blocked=true; timeline[d][m+i].el.classList.add('blocked'); } total-=count; d+=1; m=0; }} document.getElementById('validateBtn').addEventListener('click',()=>{ if(!selected) return; const now=new Date(); const date=new Date(now.getFullYear(),now.getMonth(),now.getDate()+selected.day,Math.floor(selected.minute/60),selected.minute%60).toLocaleString(); const whatsappUrl=`https://wa.me/33605656753?text=${encodeURIComponent(`Bonjour,\nJe souhaite réserver le créneau du ${date}.\nMerci ✨`)}`; window.location.href=whatsappUrl; }); </script> </body> </html>